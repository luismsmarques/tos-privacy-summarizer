# ü§ñ ToS & Privacy Summarizer

[![Chrome Web Store](https://img.shields.io/badge/Chrome%20Web%20Store-Ready-green)](https://chrome.google.com/webstore)
[![Version](https://img.shields.io/badge/version-1.3.0-blue)](https://github.com/luismsmarques/tos-privacy-summarizer)
[![License](https://img.shields.io/badge/license-MIT-yellow)](LICENSE)
[![Node.js](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen)](https://nodejs.org/)
[![Status](https://img.shields.io/badge/status-Production%20Ready-success)](https://github.com/luismsmarques/tos-privacy-summarizer)

**O Seu Advogado Digital com IA.** Analise Termos de Servi√ßo e Pol√≠ticas de Privacidade de forma segura, receba ratings de risco e poupe horas de leitura com o poder do Google Gemini. Acion√°vel e Seguro.

> üéØ **Projeto Organizado e Limpo** - C√≥digo de produ√ß√£o otimizado, sem ficheiros de teste desnecess√°rios

## ‚ú® Funcionalidades Principais

### ü§ñ **An√°lise com IA**
- Utiliza **Google Gemini AI** para an√°lise inteligente de documentos legais
- Transforma texto jur√≠dico complexo em informa√ß√µes claras e compreens√≠veis
- **Processamento em tempo real** com feedback visual
- Detec√ß√£o autom√°tica do tipo de documento (Termos de Servi√ßo vs Pol√≠tica de Privacidade)

### üìÑ **Resumos Estruturados**
- **Resumo Conciso**: Vis√£o geral em linguagem simples
- **Pontos-Chave**: 5-7 pontos essenciais destacados
- **Formata√ß√£o Markdown** para melhor legibilidade
- **Alertas de Privacidade**: Riscos importantes identificados automaticamente

### üéØ **Sistema de Rating Inteligente** ‚≠ê **NOVO!**
- **Score de Risco (1-10)**: Avalia√ß√£o instant√¢nea do n√≠vel de risco do documento
- **Complexidade (1-10)**: Medi√ß√£o da dificuldade de compreens√£o
- **Boas Pr√°ticas (1-10)**: Avalia√ß√£o da transpar√™ncia e √©tica do documento
- **Sem√°foro Visual**: Cores intuitivas (Verde/Amarelo/Vermelho) para identifica√ß√£o r√°pida
- **Algoritmo Avan√ßado**: C√°lculo baseado em conte√∫do, tamanho e tipo de documento

### üéØ **Foco Personalizado**
- **Privacidade**: Concentra-se em quest√µes de dados pessoais e privacidade
- **Termos**: Foca em direitos e responsabilidades do utilizador
- **Geral**: An√°lise equilibrada de ambos os aspetos

### üìä **Hist√≥rico e Gest√£o Avan√ßada**
- **Hist√≥rico completo** dos resumos criados com filtros avan√ßados
- **Dashboard administrativo** com analytics detalhados em tempo real
- **Sistema de cr√©ditos** flex√≠vel e transparente
- **Exporta√ß√£o de dados** em m√∫ltiplos formatos (JSON, CSV, TXT)

### üí≥ **Sistema de Cr√©ditos Inteligente**
- **API Compartilhada**: Use cr√©ditos gratuitos inclu√≠dos
- **API Pr√≥pria**: Configure sua pr√≥pria chave Google Gemini
- **Compra de Cr√©ditos**: Sistema de pagamento integrado com Stripe
- **Gest√£o transparente** de cr√©ditos e utiliza√ß√£o

#### **Porqu√™ Pagar?**
**O Nosso Comprometimento:** Cada resumo de alta precis√£o requer o uso do modelo avan√ßado Google Gemini, processamento em backend seguro (Vercel) e gest√£o de base de dados. O nosso sistema de cr√©ditos cobre estes custos, garantindo a mais alta qualidade, velocidade e privacidade, que extens√µes gratuitas e menos robustas n√£o conseguem oferecer.

## üöÄ Instala√ß√£o e Configura√ß√£o

### **Op√ß√£o 1: Chrome Web Store (Recomendado)**
1. Aceda √† [Chrome Web Store](https://chrome.google.com/webstore)
2. Procure por "ToS & Privacy Summarizer"
3. Clique em "Adicionar ao Chrome"
4. Confirme a instala√ß√£o

### **Op√ß√£o 2: Instala√ß√£o Manual (Desenvolvimento)**
1. Clone o reposit√≥rio:
   ```bash
   git clone https://github.com/luismsmarques/tos-privacy-summarizer.git
   cd tos-privacy-summarizer
   ```

2. Carregue a extens√£o no Chrome:
   - Abra `chrome://extensions/`
   - Ative "Modo de programador"
   - Clique em "Carregar extens√£o n√£o compactada"
   - Selecione a pasta do projeto

## üîß Configura√ß√£o

### **Configura√ß√£o Inicial**
1. Clique no √≠cone da extens√£o na barra de ferramentas
2. Siga o tutorial de onboarding
3. Escolha entre API compartilhada ou pr√≥pria

### **API Compartilhada (Recomendado para Iniciantes)**
- ‚úÖ N√£o requer configura√ß√£o
- ‚úÖ Cr√©ditos gratuitos inclu√≠dos
- ‚úÖ Ideal para uso ocasional
- ‚úÖ Sem necessidade de chave API

### **API Pr√≥pria (Para Uso Avan√ßado)**
1. Obtenha uma chave API do Google Gemini:
   - Aceda ao [Google AI Studio](https://makersuite.google.com/app/apikey)
   - Crie uma nova chave API
   - Copie a chave

2. Configure na extens√£o:
   - Abra as configura√ß√µes da extens√£o
   - Cole a sua chave API
   - Salve as configura√ß√µes

## üì± Como Usar

### **Uso B√°sico**
1. **Navegue** para uma p√°gina com Termos de Servi√ßo ou Pol√≠tica de Privacidade
2. **Clique** no √≠cone da extens√£o na barra de ferramentas
3. **Aguarde** a an√°lise autom√°tica do texto (10-30 segundos)
4. **Leia** o resumo claro e compreens√≠vel

### **Funcionalidades Avan√ßadas**
- **Hist√≥rico**: Veja todos os resumos criados anteriormente
- **Foco Personalizado**: Escolha entre an√°lise de privacidade, termos ou geral
- **Exportar**: Guarde resumos em formato JSON
- **Compartilhar**: Partilhe resumos com outros utilizadores

## üèóÔ∏è Arquitetura do Projeto

### **Estrutura de Arquivos**
```
tos-privacy-summarizer/
‚îú‚îÄ‚îÄ üìÅ Extens√£o Chrome
‚îÇ   ‚îú‚îÄ‚îÄ manifest.json              # Configura√ß√£o da extens√£o
‚îÇ   ‚îú‚îÄ‚îÄ background.js              # Service Worker principal
‚îÇ   ‚îú‚îÄ‚îÄ content.js                 # Script de extra√ß√£o de conte√∫do
‚îÇ   ‚îú‚îÄ‚îÄ popup.html + popup.js      # Interface principal
‚îÇ   ‚îú‚îÄ‚îÄ options.html + options.js  # P√°gina de configura√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ onboarding.html + js       # Tutorial inicial
‚îÇ   ‚îú‚îÄ‚îÄ summary-page.html + js     # P√°gina de resumo detalhado
‚îÇ   ‚îú‚îÄ‚îÄ history.html + js         # Hist√≥rico de resumos
‚îÇ   ‚îú‚îÄ‚îÄ checkout.html + js         # P√°gina de checkout
‚îÇ   ‚îî‚îÄ‚îÄ privacy-policy.html        # Pol√≠tica de privacidade
‚îÇ
‚îú‚îÄ‚îÄ üìÅ Backend (Vercel)
‚îÇ   ‚îú‚îÄ‚îÄ server.js                  # Servidor principal
‚îÇ   ‚îú‚îÄ‚îÄ package.json               # Depend√™ncias do backend
‚îÇ   ‚îú‚îÄ‚îÄ vercel.json                # Configura√ß√£o Vercel
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gemini.js             # API Gemini
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics.js          # Analytics e dados
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js               # Autentica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.js              # Gest√£o de utilizadores
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ credits.js            # Sistema de cr√©ditos
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stripe.js             # Pagamentos
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.js           # Conex√£o √† base de dados
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js               # Utilit√°rios de autentica√ß√£o
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ emailService.js       # Servi√ßo de email
‚îÇ   ‚îî‚îÄ‚îÄ database/
‚îÇ       ‚îî‚îÄ‚îÄ schema.sql            # Schema da base de dados
‚îÇ
‚îú‚îÄ‚îÄ üìÅ Dashboard Administrativo
‚îÇ   ‚îú‚îÄ‚îÄ index.html                # Dashboard principal
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.js              # L√≥gica do dashboard
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.css             # Estilos do dashboard
‚îÇ   ‚îî‚îÄ‚îÄ chart.min.js             # Gr√°ficos
‚îÇ
‚îú‚îÄ‚îÄ üìÅ Documenta√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ README.md                 # Este arquivo
‚îÇ   ‚îú‚îÄ‚îÄ PROJECT-TODO.md           # Lista de tarefas do projeto
‚îÇ   ‚îî‚îÄ‚îÄ docs/                     # Documenta√ß√£o adicional
‚îÇ       ‚îú‚îÄ‚îÄ STORE-DESCRIPTION.md  # Descri√ß√£o para Chrome Web Store
‚îÇ       ‚îú‚îÄ‚îÄ SUBMISSION-GUIDE.md    # Guia de submiss√£o
‚îÇ       ‚îú‚îÄ‚îÄ CHANGELOG.md           # Hist√≥rico de mudan√ßas
‚îÇ       ‚îú‚îÄ‚îÄ RELEASE-NOTES-v1.3.0.md # Notas da vers√£o atual
‚îÇ       ‚îú‚îÄ‚îÄ PRIVACY-POLICY.md      # Pol√≠tica de privacidade
‚îÇ       ‚îú‚îÄ‚îÄ CONTRIBUTING.md        # Guia de contribui√ß√£o
‚îÇ       ‚îî‚îÄ‚îÄ ENVIRONMENT-GUIDE.md   # Guia de ambiente
‚îÇ
‚îî‚îÄ‚îÄ üìÅ Scripts de Gest√£o
    ‚îú‚îÄ‚îÄ scripts/                  # Scripts de automa√ß√£o
    ‚îÇ   ‚îú‚îÄ‚îÄ manage-environments.sh # Gest√£o de ambientes
    ‚îÇ   ‚îî‚îÄ‚îÄ test-environments.sh   # Testes de ambiente
    ‚îî‚îÄ‚îÄ debug-tools/              # Ferramentas de debug (desenvolvimento)
```

### **Tecnologias Utilizadas**

#### **Frontend (Extens√£o)**
- **Manifest V3**: √öltima vers√£o do Chrome Extensions API
- **Vanilla JavaScript**: Sem depend√™ncias externas
- **Material Design**: Interface moderna e responsiva
- **Chrome APIs**: activeTab, scripting, storage

#### **Backend**
- **Node.js**: Runtime JavaScript
- **Express.js**: Framework web
- **PostgreSQL**: Base de dados (Vercel Postgres)
- **Google Gemini AI**: Processamento de linguagem natural
- **Stripe**: Processamento de pagamentos
- **JWT**: Autentica√ß√£o segura

#### **Infraestrutura**
- **Vercel**: Hospedagem do backend
- **Chrome Web Store**: Distribui√ß√£o da extens√£o
- **GitHub**: Controlo de vers√µes

## üîí Privacidade e Seguran√ßa

### **Pol√≠tica de Privacidade**
- **Dados Locais**: Configura√ß√µes guardadas localmente no Chrome
- **Texto Tempor√°rio**: Conte√∫do enviado apenas para processamento
- **Sem Armazenamento**: N√£o guardamos conte√∫do dos seus documentos
- **API Segura**: Utiliza Google Gemini com seguran√ßa m√°xima

### **Permiss√µes Necess√°rias**
- **activeTab**: Aceder ao conte√∫do da p√°gina atual
- **scripting**: Extrair texto da p√°gina
- **storage**: Guardar configura√ß√µes localmente

### **Conformidade**
- ‚úÖ **GDPR Compliant**
- ‚úÖ **Chrome Web Store Policies**
- ‚úÖ **Manifest V3 Security**
- ‚úÖ **Pol√≠tica de Privacidade Transparente**

## üõ†Ô∏è Desenvolvimento

### **Pr√©-requisitos**
- Node.js >= 18.0.0
- Chrome Browser
- Conta Google (para Gemini API)
- Conta Vercel (para backend)

### **Configura√ß√£o do Ambiente**
1. Clone o reposit√≥rio
2. Instale depend√™ncias do backend:
   ```bash
   cd backend
   npm install
   ```

3. Configure vari√°veis de ambiente:
   ```bash
   cp backend/env.example backend/.env
   # Edite o arquivo .env com suas configura√ß√µes
   ```

4. Configure o backend no Vercel:
   ```bash
   npm install -g vercel
   vercel login
   vercel --prod
   ```

### **Scripts Dispon√≠veis**
```bash
# Desenvolvimento
npm run dev          # Executar em modo desenvolvimento
npm run build        # Construir para produ√ß√£o
npm start           # Iniciar servidor

# Backend
cd backend
npm start           # Iniciar servidor backend
npm run dev         # Modo desenvolvimento com nodemon
```


## üÜï √öltimas Atualiza√ß√µes (v1.3.0)

### **‚úÖ Organiza√ß√£o e Limpeza do Projeto**
- **C√≥digo Limpo**: Removidos todos os ficheiros de teste e debug desnecess√°rios
- **Estrutura Otimizada**: Projeto organizado para produ√ß√£o
- **Documenta√ß√£o Atualizada**: README reorganizado com informa√ß√µes claras
- **Ficheiros ZIP Removidos**: Limpeza de vers√µes antigas compactadas
- **Cookies de Debug Removidos**: Limpeza de ficheiros sens√≠veis

### **‚úÖ Melhorias Implementadas**
- **Dashboard Corrigido**: Estat√≠sticas agora mostram dados reais em vez de fallback
- **Conex√£o Backend**: Problemas de CORS e URL resolvidos
- **Seguran√ßa Aprimorada**: `.gitignore` melhorado com arquivos sens√≠veis
- **Organiza√ß√£o**: Estrutura de pastas otimizada para distribui√ß√£o
- **Documenta√ß√£o**: README atualizado com todas as funcionalidades

### **üîß Corre√ß√µes T√©cnicas**
- Contagem de resumos corrigida (512 total, 511 bem-sucedidos)
- URLs do backend configuradas corretamente
- CORS configurado para localhost:8080
- Arquivos de ambiente protegidos no Git

## üìä Analytics e Monitoriza√ß√£o

### **Dashboard Administrativo**
- **URL**: `https://tos-privacy-summarizer.vercel.app/dashboard`
- **Funcionalidades**:
  - Estat√≠sticas de utiliza√ß√£o
  - Gr√°ficos de performance
  - Gest√£o de utilizadores
  - Monitoriza√ß√£o de erros

### **M√©tricas Dispon√≠veis**
- Total de utilizadores ativos
- Resumos criados (bem-sucedidos e falhados)
- Taxa de sucesso em tempo real
- Tempo m√©dio de processamento
- Tipos de documentos analisados
- Distribui√ß√£o geogr√°fica dos utilizadores

## ü§ù Contribui√ß√£o

### **Como Contribuir**
1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

### **√Åreas de Contribui√ß√£o**
- üêõ **Bug Fixes**: Corrigir problemas existentes
- ‚ú® **Novas Funcionalidades**: Adicionar funcionalidades √∫teis
- üìö **Documenta√ß√£o**: Melhorar documenta√ß√£o
- üé® **UI/UX**: Melhorar interface e experi√™ncia
- üîß **Performance**: Otimizar velocidade e efici√™ncia

## üìû Suporte e Contacto

### **Canais de Suporte**
- **GitHub Issues**: [Reportar problemas](https://github.com/luismsmarques/tos-privacy-summarizer/issues)
- **GitHub Discussions**: [Discuss√µes da comunidade](https://github.com/luismsmarques/tos-privacy-summarizer/discussions)
- **Email**: Contacte atrav√©s do GitHub

### **FAQ Frequente**

**P: A extens√£o funciona em todos os sites?**
R: Sim, funciona em qualquer site que contenha Termos de Servi√ßo ou Pol√≠ticas de Privacidade.

**P: Os meus dados s√£o seguros?**
R: Sim, utilizamos apenas o texto necess√°rio para an√°lise e n√£o guardamos conte√∫do permanentemente.

**P: Posso usar minha pr√≥pria chave API?**
R: Sim, pode configurar sua pr√≥pria chave Google Gemini nas configura√ß√µes.

**P: Quanto custa usar a extens√£o?**
R: A extens√£o √© gratuita com cr√©ditos inclu√≠dos. Pode comprar cr√©ditos adicionais se necess√°rio.


**P: O dashboard mostra dados reais?**
R: Sim, desde a v1.2.0 o dashboard mostra dados reais da base de dados em tempo real.
## üìà Roadmap

### **Vers√£o 1.4.0 (Pr√≥xima)**
- [ ] Suporte para mais idiomas
- [ ] Integra√ß√£o com outros modelos de IA
- [ ] API p√∫blica para desenvolvedores
- [ ] Modo offline b√°sico

### **Vers√£o 1.5.0 (Futuro)**
- [ ] Extens√£o para Firefox
- [ ] App mobile
- [ ] Integra√ß√£o com navegadores empresariais
- [ ] An√°lise de contratos complexos

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a **Licen√ßa MIT** - veja o arquivo [LICENSE](LICENSE) para detalhes.

## üôè Agradecimentos

- **Google Gemini AI** - Pelo processamento de linguagem natural
- **Vercel** - Pela hospedagem do backend
- **Chrome Web Store** - Pela plataforma de distribui√ß√£o
- **Comunidade Open Source** - Pelas bibliotecas e ferramentas utilizadas

---

## üéØ Casos de Uso

### **Para Consumidores**
- Entenda o que est√° a aceitar antes de clicar "Aceito"
- Identifique riscos de privacidade importantes
- Compare pol√≠ticas de diferentes servi√ßos

### **Para Empresas**
- Analise termos de concorrentes rapidamente
- Identifique melhores pr√°ticas de privacidade
- Monitore mudan√ßas em pol√≠ticas legais

### **Para Estudantes**
- Estude documentos legais de forma compreens√≠vel
- Aprenda sobre direitos do consumidor
- Desenvolva literacia digital

### **Para Profissionais**
- Obtenha resumos r√°pidos de documentos longos
- Identifique pontos-chave em contratos
- Economize tempo em an√°lises legais

---

**Desenvolvido com ‚ù§Ô∏è para tornar a internet mais transparente e compreens√≠vel.**

[![GitHub stars](https://img.shields.io/github/stars/luismsmarques/tos-privacy-summarizer?style=social)](https://github.com/luismsmarques/tos-privacy-summarizer)
[![GitHub forks](https://img.shields.io/github/forks/luismsmarques/tos-privacy-summarizer?style=social)](https://github.com/luismsmarques/tos-privacy-summarizer/fork)